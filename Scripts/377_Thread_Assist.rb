#==============================================================================
# ** Theread Assist
#------------------------------------------------------------------------------
#  This defined the method for assist thread
#==============================================================================
module Thread_Assist
  #----------------------------------------------------------------------------
  # * Constants
  #----------------------------------------------------------------------------
  Uwait = 0.03 # Time wait until next update
  
  # >> Work type definiation
  BCmine   = 0x01
  BCpush   = 0x02
  BCquery  = 0x03
  #----------------------------------------------------------------------------
  module_function
  
public # >> Public function
  #----------------------------------------------------------------------------
  # * Assign work
  #----------------------------------------------------------------------------
  def assign_work(*args)
    type = args[0]
    
    case type
    when BlockChain_Mine
    end
    
  end
  
private # >> Private function
  #----------------------------------------------------------------------------
  # * Main entry access
  #----------------------------------------------------------------------------
  def assist_main
    begin
      loop do
        update_assist
        sleep(Uwait)
      end
    rescue Exception => e
      PONY::ERRNO.mutex_error e
    end
  end
  #----------------------------------------------------------------------------
  # * Main update process
  #----------------------------------------------------------------------------
  def update_assist
    p Time.now
    sleep(0.97)
  end
end
